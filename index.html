<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Detalle Especial | Yeny</title>
  <meta name="description" content="Detalle especial con animaci√≥n y captura de pantalla" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet" />

  <style>
    :root{
      --bg1:#050814;
      --bg2:#0e172a;
      --bg3:#1d1b4b;
      --bg4:#3b0764;
      --text:#f8fafc;
      --muted:#cbd5e1;
      --line:rgba(255,255,255,.18);
      --glass:rgba(255,255,255,.10);
      --glass2:rgba(255,255,255,.06);
      --accent:#a78bfa;
      --accent2:#f472b6;
      --ok:#86efac;
      --err:#fca5a5;
      --shadow:0 30px 80px rgba(0,0,0,.50);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 10% 10%, rgba(34,211,238,.12), transparent 55%),
        radial-gradient(1200px 700px at 90% 90%, rgba(244,114,182,.14), transparent 50%),
        linear-gradient(135deg,var(--bg1),var(--bg2) 40%,var(--bg3) 72%,var(--bg4));
      overflow-x:hidden;
      position:relative;
    }

    /* Aurora animada */
    .aurora{
      position:fixed;
      inset:-25%;
      z-index:0;
      pointer-events:none;
      filter:blur(56px) saturate(120%);
      opacity:.55;
      background:
        radial-gradient(circle at 22% 30%, rgba(167,139,250,.58), transparent 35%),
        radial-gradient(circle at 80% 35%, rgba(34,211,238,.42), transparent 36%),
        radial-gradient(circle at 52% 78%, rgba(244,114,182,.48), transparent 42%);
      animation:auroraMove 14s ease-in-out infinite alternate;
    }
    @keyframes auroraMove{
      0%{transform:translate3d(-2%,-1%,0) scale(1)}
      100%{transform:translate3d(2%,1.5%,0) scale(1.08)}
    }

    /* Part√≠culas flotantes */
    .bg-particles{
      position:fixed; inset:0; z-index:0; pointer-events:none; overflow:hidden;
    }
    .p{
      position:absolute;
      width:6px; height:6px;
      border-radius:999px;
      background:linear-gradient(180deg,var(--accent),var(--accent2));
      box-shadow:0 0 16px rgba(167,139,250,.7);
      opacity:.2;
      animation:rise linear infinite;
    }
    @keyframes rise{
      from{transform:translateY(110vh) translateX(0) scale(.7); opacity:0}
      20%{opacity:.25}
      to{transform:translateY(-20vh) translateX(35px) scale(1.1); opacity:0}
    }

    .wrap{
      min-height:100%;
      display:grid;
      place-items:center;
      padding:30px 16px;
      position:relative;
      z-index:1;
    }

    .card{
      width:min(900px,95vw);
      border:1px solid var(--line);
      border-radius:24px;
      background:linear-gradient(160deg,var(--glass),var(--glass2));
      backdrop-filter:blur(12px);
      box-shadow:var(--shadow);
      overflow:hidden;
      position:relative;
      isolation:isolate;
      animation:cardIn .9s ease both;
    }

    .card::before{
      content:"";
      position:absolute; inset:-1px;
      border-radius:inherit;
      padding:1px;
      background:linear-gradient(120deg, rgba(167,139,250,.75), rgba(34,211,238,.35), rgba(244,114,182,.72));
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite:xor;
      mask-composite:exclude;
      pointer-events:none;
      animation:hueSpin 6s linear infinite;
    }
    @keyframes hueSpin{from{filter:hue-rotate(0)}to{filter:hue-rotate(360deg)}}
    @keyframes cardIn{from{opacity:0; transform:translateY(18px) scale(.99)}to{opacity:1; transform:translateY(0) scale(1)}}

    .hero{
      padding:30px 26px 18px;
      border-bottom:1px solid var(--line);
      background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
    }
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      border:1px solid rgba(255,255,255,.25);
      border-radius:999px;
      padding:8px 13px;
      font-size:.8rem; font-weight:700;
      background:linear-gradient(90deg, rgba(167,139,250,.3), rgba(244,114,182,.25));
    }
    .title{
      margin:12px 0 8px;
      font-family:"Playfair Display",serif;
      font-size:clamp(1.55rem,2.8vw,2.3rem);
      line-height:1.15;
      color:#fff;
      letter-spacing:.01em;
    }
    .name{
      background:linear-gradient(90deg,#c4b5fd,#f9a8d4,#67e8f9);
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
    }
    .subtitle{
      margin:0;
      color:var(--muted);
      font-size:1rem;
      line-height:1.7;
    }

    .content{
      padding:20px 26px 18px;
      display:grid;
      gap:14px;
      grid-template-columns: 340px 1fr;
      align-items:start;
    }

    /* Marco de foto con animaci√≥n bonita */
    .photo-frame{
      margin:0;
      border:1px solid var(--line);
      border-radius:16px;
      padding:10px;
      background:linear-gradient(165deg, rgba(255,255,255,.13), rgba(255,255,255,.05));
      box-shadow:0 14px 30px rgba(0,0,0,.28);
      position:relative;
      overflow:hidden;
      animation:photoIn 1s ease .15s both;
    }
    .photo-frame::before{
      content:"";
      position:absolute;
      inset:auto -30% -55% -30%;
      height:150px;
      background:radial-gradient(ellipse at center, rgba(255,255,255,.2), transparent 70%);
      animation:shine 5s ease-in-out infinite;
      pointer-events:none;
    }

    .hero-photo{
      width:100%;
      aspect-ratio: 4 / 5;
      object-fit:cover;
      object-position:center 24%;
      display:block;
      border-radius:11px;
      filter:saturate(1.04) contrast(1.03);
      transform:scale(1);
      animation:floatPhoto 4.2s ease-in-out infinite;
    }

    .photo-frame figcaption{
      margin-top:8px;
      text-align:center;
      font-size:.85rem;
      color:#dbeafe;
      letter-spacing:.01em;
    }

    @keyframes photoIn{
      from{opacity:0; transform:translateY(16px) scale(.98)}
      to{opacity:1; transform:translateY(0) scale(1)}
    }
    @keyframes floatPhoto{
      0%,100%{transform:translateY(0) scale(1)}
      50%{transform:translateY(-4px) scale(1.01)}
    }
    @keyframes shine{
      0%,100%{transform:translateX(-10%); opacity:.02}
      46%{opacity:.4}
      56%{transform:translateX(10%); opacity:.08}
    }

    .text-box{
      border:1px solid var(--line);
      border-radius:16px;
      padding:18px 16px;
      background:linear-gradient(165deg, rgba(255,255,255,.12), rgba(255,255,255,.05));
      animation:textIn .95s ease .25s both;
    }
    @keyframes textIn{
      from{opacity:0; filter:blur(2px); transform:translateY(8px)}
      to{opacity:1; filter:blur(0); transform:translateY(0)}
    }

    .message{
      margin:0;
      font-size:clamp(1rem,1.25vw,1.12rem);
      line-height:1.95;
      color:#f8fafc;
      text-wrap:pretty;
    }

    .actions{
      padding:16px 26px 22px;
      border-top:1px solid var(--line);
      display:flex; flex-wrap:wrap; gap:10px; align-items:center;
      background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
    }

    .btn{
      border:0; cursor:pointer;
      border-radius:12px;
      padding:11px 16px;
      font-weight:800;
      color:#fff;
      background:linear-gradient(90deg,#8b5cf6,#ec4899);
      box-shadow:0 12px 28px rgba(139,92,246,.35);
      transition:transform .15s ease, opacity .2s ease;
    }
    .btn:hover{transform:translateY(-1px); opacity:.97}

    .status{
      margin-left:auto;
      border:1px solid var(--line);
      border-radius:999px;
      padding:7px 11px;
      font-size:.9rem;
      color:#cbd5e1;
      background:rgba(255,255,255,.06);
    }
    .status.ok{color:var(--ok)}
    .status.err{color:var(--err)}

    .foot{
      padding:0 26px 18px;
      text-align:center;
      font-size:.82rem;
      color:#94a3b8;
    }

    #fxCanvas{
      position:fixed; inset:0;
      z-index:40;
      pointer-events:none;
    }

    @media (max-width:860px){
      .content{grid-template-columns:1fr;}
      .photo-frame{max-width:420px; justify-self:center; width:100%;}
    }
    @media (max-width:640px){
      .hero,.content,.actions,.foot{padding-left:16px; padding-right:16px}
      .status{margin-left:0; width:100%; text-align:center}
      .hero-photo{aspect-ratio: 3/4; object-position:center 20%;}
    }

    @media (prefers-reduced-motion: reduce){
      *,*::before,*::after{animation:none !important; transition:none !important}
    }
  </style>
</head>
<body>
  <div class="aurora"></div>
  <div class="bg-particles" id="bgParticles"></div>
  <canvas id="fxCanvas"></canvas>

  <main class="wrap">
    <section class="card" id="captureArea">
      <header class="hero">
        <span class="badge">‚ú® Detalle especial</span>
        <h1 class="title">Para <span class="name">Yeny</span></h1>
        <p class="subtitle">Un mensaje simple, pero de los que s√≠ se sienten.</p>
      </header>

      <section class="content">
        <figure class="photo-frame">
          <!-- IMPORTANTE: nombre exacto del archivo -->
          <img src="yen.PNG" alt="Foto de Yeny" class="hero-photo" />
          <figcaption>Gracias por todo el tiempo compartido üí´</figcaption>
        </figure>

        <article class="text-box">
          <p class="message">
            Gracias por todo el tiempo compartido, Yeny.<br>
            Te deseo, como siempre, que te vaya muy bien en todo.<br>
            Qu√©date con esa luz bonita que tienes.
          </p>
        </article>
      </section>

      <section class="actions">
        <button class="btn" id="captureBtn">üì∏ Capturar pantalla</button>
        <span class="status" id="statusText">Listo para compartir</span>
      </section>

      <div class="foot">Hecho con aprecio ‚Ä¢ <span id="year"></span></div>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script>
    // Fondo part√≠culas suaves
    const bg = document.getElementById("bgParticles");
    for(let i=0;i<30;i++){
      const d = document.createElement("span");
      d.className = "p";
      const s = 3 + Math.random()*5;
      d.style.width = s + "px";
      d.style.height = s + "px";
      d.style.left = Math.random()*100 + "vw";
      d.style.animationDuration = (10 + Math.random()*14) + "s";
      d.style.animationDelay = (-Math.random()*16) + "s";
      bg.appendChild(d);
    }

    // UI
    const captureBtn = document.getElementById("captureBtn");
    const statusText = document.getElementById("statusText");
    const captureArea = document.getElementById("captureArea");
    document.getElementById("year").textContent = new Date().getFullYear();

    function setStatus(text, type=""){
      statusText.textContent = text;
      statusText.classList.remove("ok","err");
      if(type) statusText.classList.add(type);
    }

    // FX (corazones + fuegos)
    const canvas = document.getElementById("fxCanvas");
    const ctx = canvas.getContext("2d");
    let W = canvas.width = window.innerWidth;
    let H = canvas.height = window.innerHeight;
    let particles = [];
    let running = false;

    window.addEventListener("resize", () => {
      W = canvas.width = window.innerWidth;
      H = canvas.height = window.innerHeight;
    });

    const rand = (a,b) => Math.random()*(b-a)+a;

    function heartPath(x,y,s){
      ctx.beginPath();
      ctx.moveTo(x,y);
      ctx.bezierCurveTo(x-s/2,y-s/2,x-s,y+s/3,x,y+s);
      ctx.bezierCurveTo(x+s,y+s/3,x+s/2,y-s/2,x,y);
      ctx.closePath();
    }

    function spawnFirework(cx,cy){
      const n = 64;
      for(let i=0;i<n;i++){
        const ang = (Math.PI*2/n)*i + rand(-0.05,0.05);
        const sp = rand(1.8,5.5);
        particles.push({
          x:cx,y:cy,
          vx:Math.cos(ang)*sp, vy:Math.sin(ang)*sp,
          age:0, life:rand(55,88), size:rand(1.3,3.0),
          type:"spark", hue:rand(180,330)
        });
      }
    }

    function spawnHearts(){
      for(let i=0;i<48;i++){
        particles.push({
          x:rand(W*0.15,W*0.85), y:H+rand(6,56),
          vx:rand(-0.7,0.7), vy:rand(-5.5,-2.7),
          age:0, life:rand(85,125), size:rand(6,11),
          type:"heart", rot:rand(0,Math.PI*2), rotV:rand(-0.05,0.05)
        });
      }
    }

    function animateFX(){
      if(!running) return;
      ctx.clearRect(0,0,W,H);

      for(let i=particles.length-1;i>=0;i--){
        const p = particles[i];
        p.age++;

        if(p.type === "spark"){
          p.vy += 0.03;
          p.x += p.vx;
          p.y += p.vy;
          const a = Math.max(0,1-p.age/p.life);

          ctx.save();
          ctx.globalAlpha = a;
          ctx.fillStyle = `hsl(${p.hue} 95% 65%)`;
          ctx.beginPath();
          ctx.arc(p.x,p.y,p.size,0,Math.PI*2);
          ctx.fill();
          ctx.restore();
        } else {
          p.vy += 0.035;
          p.x += p.vx;
          p.y += p.vy;
          p.rot += p.rotV;
          const a = Math.max(0,1-p.age/p.life);

          ctx.save();
          ctx.translate(p.x,p.y);
          ctx.rotate(p.rot);
          ctx.globalAlpha = a;
          const g = ctx.createLinearGradient(-p.size,-p.size,p.size,p.size);
          g.addColorStop(0,"#f9a8d4");
          g.addColorStop(1,"#c4b5fd");
          ctx.fillStyle = g;
          heartPath(0,0,p.size);
          ctx.fill();
          ctx.restore();
        }

        if(p.age >= p.life) particles.splice(i,1);
      }

      if(particles.length > 0) requestAnimationFrame(animateFX);
      else running = false;
    }

    function celebrate(){
      spawnHearts();
      [[W*.25,H*.32],[W*.72,H*.28],[W*.50,H*.22],[W*.38,H*.40],[W*.64,H*.38]]
        .forEach((pt,idx)=>setTimeout(()=>spawnFirework(pt[0],pt[1]), idx*170));

      if(!running){
        running = true;
        requestAnimationFrame(animateFX);
      }
    }

    captureBtn.addEventListener("click", async () => {
      try{
        setStatus("Generando captura...", "");
        celebrate();

        const shot = await html2canvas(captureArea, {
          backgroundColor: null,
          scale: 2,
          useCORS: true,
          scrollY: -window.scrollY
        });

        const a = document.createElement("a");
        a.download = "detalle-para-yeny.png";
        a.href = shot.toDataURL("image/png");
        a.click();

        setStatus("Captura descargada ‚úÖ", "ok");
      }catch(err){
        console.error(err);
        setStatus("No se pudo capturar ‚ùå", "err");
      }
    });
  </script>
</body>
</html>
